{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","personObject","post","id","delete","concat","newObject","put","Filter","_ref","filter","filterList","react_default","a","createElement","value","onChange","PersonForm","_ref2","newName","handleNameChange","newNumber","handleNumberChange","addPerson","onSubmit","type","Persons","_ref3","personList","removePerson","map","person","App_Person","key","name","Person","_ref4","number","onClick","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","successMessage","setSuccessMessage","personsToShow","toLowerCase","indexOf","useEffect","personService","initialPersons","showSuccessMessage","message","setTimeout","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","includes","style","App_Filter","event","target","App_PersonForm","preventDefault","oldPerson","find","changedPerson","objectSpread","window","confirm","returnedPerson","p","newPerson","App_Persons","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ddc016ee.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const promise = axios.get(baseUrl)\n  return promise.then(response => response.data)\n}\n\nconst create = personObject => {\n  const promise = axios.post(baseUrl, personObject)\n  return promise.then(response => response.data)\n}\n\nconst remove = id => {\n  const promise = axios.delete(`${baseUrl}/${id}`)\n  return promise.then(response => response)\n}\n\nconst update = (id, newObject) => {\n  const promise = axios.put(`${baseUrl}/${id}`, newObject)\n  return promise.then(response => response.data)\n}\n\nexport default {getAll,create,remove,update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const personsToShow = persons.filter(person => person.name.toLowerCase().indexOf(filter) >= 0)\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const oldPerson = persons.find(person => person.name === newName)\n    if (oldPerson) {\n      const changedPerson = {...oldPerson, number: newNumber}\n      if (window.confirm(`Are you sure you want to replace ${newName}'s number with a new one?`)) {\n        personService\n          .update(oldPerson.id, changedPerson)\n          .then(returnedPerson => {\n            showSuccessMessage(`Changed ${returnedPerson.name}'s number`)\n            setPersons(persons.map(p => p.id !== oldPerson.id ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setFilter('')\n          })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(newPerson => {\n          showSuccessMessage(`Added ${newPerson.name}`)\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setFilter('')\n        })\n    }\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const filterList = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  const showSuccessMessage = (message) => {\n    setSuccessMessage(message)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 4000)\n  }\n  \n  const removePerson = id => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n      personService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          showSuccessMessage(`Deleted ${person.name}`)\n        })\n        .catch(error => {\n          showSuccessMessage(`Error: Information of ${person.name} has already been deleted from server`)\n        })\n    }\n  }\n  \n  const Notification = () => {\n    const notificationStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n    \n    if (successMessage === null) {\n      return null\n    } else if (successMessage.includes('Error')) {\n      notificationStyle.color = 'red'\n    }\n    \n    return (\n      <div style={notificationStyle}>\n        {successMessage}\n      </div>\n    );\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification/>\n      \n      <Filter\n        filter={filter}\n        filterList={filterList}\n      />\n      \n      <h2>Add a new</h2>\n      \n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      \n      <h2>Numbers</h2>\n      \n      <Persons\n        personList={personsToShow}\n        removePerson={removePerson}\n      />\n    </div>\n  )\n  \n}\n\nconst Filter = ({filter, filterList}) =>\n  <div>\n    filter: <input\n    value={filter}\n    onChange={filterList}\n  />\n  </div>\n\nconst PersonForm = ({newName, handleNameChange, newNumber, handleNumberChange, addPerson}) =>\n  <form onSubmit={addPerson}>\n    <div>\n      name: <input\n      value={newName}\n      onChange={handleNameChange}\n    />\n    </div>\n    <div>\n      number: <input\n      value={newNumber}\n      onChange={handleNumberChange}\n    />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n\nconst Persons = ({personList, removePerson}) =>\n  personList.map(person => <Person key={person.name} person={person} removePerson={removePerson}/>)\n\nconst Person = ({person, removePerson}) =>\n  <p>{`${person.name}: ${person.number}`} <button onClick={() => removePerson(person.id)}>poista</button></p>\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}